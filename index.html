<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DÃ¼nya PapaÄŸan FiyatlarÄ±</title>

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:#f2f2f2;
}
header{
  background:#0a74da;
  color:#fff;
  padding:15px;
  text-align:center;
  position:sticky;
  top:0;
  z-index:10;
}
input{
  width:70%;
  padding:10px;
  border:none;
  border-radius:6px;
}
button{
  padding:10px;
  border:none;
  border-radius:6px;
  background:#0559a5;
  color:white;
}
.container{
  padding:10px;
}
.card{
  background:white;
  padding:12px;
  border-radius:10px;
  margin-bottom:10px;
  box-shadow:0 2px 5px rgba(0,0,0,0.1);
}
.badge{
  display:inline-block;
  padding:4px 8px;
  border-radius:6px;
  font-size:12px;
  color:white;
}
.evcil{background:green;}
.degerli{background:purple;}
.yasak{background:red;}
.loader{
  text-align:center;
  padding:15px;
  color:#666;
}
</style>
</head>

<body>

<header>
  <h2>ğŸŒ DÃ¼nya PapaÄŸan FiyatlarÄ±</h2>
  <input type="text" id="search" placeholder="PapaÄŸan ara...">
  <button onclick="doSearch()">Ara</button>
</header>

<div class="container" id="list"></div>
<div class="loader" id="loader">YÃ¼kleniyor...</div>

<script>
const parrots = [];
for(let i=1;i<=1200;i++){
  let type, tag, price;
  if(i % 15 === 0){
    type="YasaklÄ±"; tag="yasak"; price=0;
  }else if(i % 5 === 0){
    type="En DeÄŸerli"; tag="degerli"; price=Math.floor(Math.random()*80000)+20000;
  }else{
    type="Evcil"; tag="evcil"; price=Math.floor(Math.random()*8000)+400;
  }
  parrots.push({
    name:"PapaÄŸan TÃ¼rÃ¼ "+i,
    cat:type,
    tag:tag,
    price:price,
    origin:"DÃ¼nya"
  });
}

let filtered = parrots.slice();
let index = 0;
const step = 30;

// === KART EKLE ===
function addItems(){
  const list=document.getElementById("list");
  const end = index + step;
  const items = filtered.slice(index, end);

  items.forEach(p=>{
    list.innerHTML+=`
    <div class="card">
      <h3>${p.name}</h3>
      <span class="badge ${p.tag}">${p.cat}</span>
      <p><b>Fiyat:</b> ${p.price>0 ? p.price.toLocaleString()+" TL" : "SATIÅ YASAK"}</p>
      <p><b>KÃ¶ken:</b> ${p.origin}</p>
    </div>`;
  });

  index = end;
  document.getElementById("loader").style.display =
    index >= filtered.length ? "none" : "block";
}

// === ARAMA ===
function doSearch(){
  const val=document.getElementById("search").value.toLowerCase();
  filtered = parrots
    .filter(p=>p.name.toLowerCase().includes(val))
    .sort((a,b)=>b.price-a.price);

  document.getElementById("list").innerHTML="";
  index = 0;
  document.getElementById("loader").style.display="block";
  addItems();
}

// === KAYDIRMA ALGILA ===
window.addEventListener("scroll", ()=>{
  if(window.innerHeight + window.scrollY >= document.body.offsetHeight - 100){
    addItems();
  }
});

// Ä°lk aÃ§Ä±lÄ±ÅŸ
filtered.sort((a,b)=>b.price-a.price);
addItems();

// YazdÄ±kÃ§a arama
document.getElementById("search").addEventListener("input", doSearch);
</script>

</body>
</html>
