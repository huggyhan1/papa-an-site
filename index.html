<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Kuş Arşivi</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body { margin:0; font-family:Arial; background:#f4f4f4 }
header { background:#1976d2; padding:12px }
input {
  width:100%; padding:10px; font-size:16px;
  border:none; border-radius:6px
}
.card {
  background:white; margin:12px; padding:12px;
  border-radius:8px; box-shadow:0 2px 6px rgba(0,0,0,.15)
}
.badge {
  padding:4px 8px; border-radius:5px;
  font-size:12px; color:white; display:inline-block
}
img {
  width:100%; height:180px; object-fit:cover;
  border-radius:6px; margin-bottom:8px
}
</style>
</head>
<body>

<header>
  <input id="search" placeholder="Kuş ara...">
</header>

<div id="list"></div>

<script>
const species = [
  "Sultan Papağanı","Cennet Papağanı","Jako Papağanı",
  "Macaw","Amazon Papağanı","Kakadu","Lori",
  "Alexandrine Papağanı","Quaker Papağanı",
  "Saka Kuşu","Bülbül","İspinoz","Kanarya",
  "Flamingo","Turna","Toy Kuşu","Akbaba",
  "Şahin","Kartal","Baykuş"
];

const mutations = [
  "Normal","Albino","Lutino","Blue","Pied",
  "Cinnamon","Opaline","White Face","Golden"
];

const statuses = [
  {name:"Evcil", color:"#4caf50"},
  {name:"Vahşi", color:"#607d8b"},
  {name:"Tükenmekte Olan", color:"#ff9800"},
  {name:"Nesli Tükenen", color:"#f44336"}
];

let birds = JSON.parse(localStorage.getItem("birdData"));

if (!birds) {
  birds = [];
  for (let i = 0; i < 1200; i++) {
    const sp = species[Math.floor(Math.random()*species.length)];
    const mut = mutations[Math.floor(Math.random()*mutations.length)];
    let status = statuses[Math.floor(Math.random()*statuses.length)];

    // Mantık düzeltmesi
    if (sp === "Saka Kuşu") status = statuses[2];
    if (sp === "Toy Kuşu") status = statuses[3];

    birds.push({
      name: `${mut} ${sp}`,
      status,
      img: `https://source.unsplash.com/400x300/?bird,${sp}`
    });
  }
  localStorage.setItem("birdData", JSON.stringify(birds));
}

const list = document.getElementById("list");

function render(filter="") {
  list.innerHTML = "";
  birds
    .filter(b => b.name.toLowerCase().includes(filter))
    .forEach(b => {
      const div = document.createElement("div");
      div.className = "card";
      div.innerHTML = `
        <img src="${b.img}">
        <h3>${b.name}</h3>
        <span class="badge" style="background:${b.status.color}">
          ${b.status.name}
        </span>
      `;
      list.appendChild(div);
    });
}

render();

document.getElementById("search").oninput = e =>
  render(e.target.value.toLowerCase());
</script>

</body>
</html>
